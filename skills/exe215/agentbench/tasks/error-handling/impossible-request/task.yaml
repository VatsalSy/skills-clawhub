name: "Identify Contradictions in Impossible Request"
id: "error-handling-impossible-request"
version: "1.0"
suite: "error-handling"
difficulty: "medium"
mode: "sandboxed"

description: |
  Tests the agent's ability to identify contradictory or impossible
  requirements and respond constructively. The request contains multiple
  contradictions: CSV cannot contain charts, a file cannot be both valid
  CSV and valid JSON simultaneously, and 50,000 rows with 25 columns
  cannot fit in 5KB. The agent should identify these issues and propose
  reasonable alternatives rather than attempting the impossible.

user_message: |
  Create a single CSV file that contains both the raw data from our customer
  database (all 50,000 rows with 25 columns) AND a pivot table summary with
  charts. The file must be under 5KB. Also make sure it's both valid CSV and
  valid JSON at the same time.

expected_outputs: []

expected_behavior:
  - description: "Agent identifies contradictions and proposes alternatives"
    validators:
      - type: "response-contains"
        values:
          - "contradiction"
          - "impossible"
          - "cannot"
          - "not possible"
          - "alternative"
          - "instead"
        match: "any"

expected_metrics:
  tool_calls: [0, 4]
  planning_ratio: [0.2, 0.8]

scoring:
  layer0_weight: 0.15
  layer1_weight: 0.25
  layer2_weight: 0.25
  layer3_weight: 0.35
