---
name: smart-expense-tracker-cn
description: "智能记账助手 | AI Expense Tracker. 自然语言记账，自动分类，每日汇总报告。支持'午饭35元'、'打车25'等自然输入。触发词：记账、花了、消费、支出。"
author: 赚钱小能手
metadata:
  openclaw:
    emoji: 💰
    requires:
      bins: [jq]
---

# 智能记账助手 💰

用自然语言记账，AI 自动识别金额、分类，每晚推送当日汇总。

## 功能特点

- 🗣️ **自然语言输入**：直接说"午饭35元"、"打车25"，自动解析
- 🤖 **智能分类**：餐饮、交通、购物、娱乐、医疗、教育等自动识别
- 📊 **每日汇总**：每晚 21:00 自动推送当日消费报告
- 📈 **统计分析**：周报、月报、分类占比
- 🔔 **预算提醒**：超预算时主动提醒

## 使用方法

### 记账
```
用户: 午饭35
用户: 打车花了25元
用户: 买了杯奶茶18
用户: 超市购物168.5
```

系统自动识别：
- 金额：数字部分
- 分类：根据关键词智能判断
- 时间：当前时间

### 查询
```
用户: 今天花了多少
用户: 本周消费报告
用户: 这个月餐饮支出
```

### 管理
```
用户: 撤销上一条
用户: 修改分类为交通
用户: 设置餐饮预算500
```

## 数据存储

记账数据存储在 `~/.expense-tracker/records.jsonl`，格式：
```json
{"id":"xxx","amount":35,"category":"food","note":"午饭","time":"2024-01-15T12:30:00"}
```

## 分类规则

| 分类 | 关键词 |
|------|--------|
| 餐饮 food | 早饭、午饭、晚饭、外卖、奶茶、咖啡、零食、水果、夜宵、餐厅 |
| 交通 transport | 打车、滴滴、地铁、公交、加油、停车、高铁、机票、出租车 |
| 购物 shopping | 超市、网购、淘宝、京东、拼多多、衣服、鞋、日用品 |
| 娱乐 entertainment | 电影、游戏、KTV、演唱会、会员、视频 |
| 医疗 medical | 药、医院、看病、体检 |
| 教育 education | 书、课、培训、考试 |
| 其他 other | 无法识别时默认 |

## 每日汇总

每晚 21:00 自动推送：
```
📊 今日消费汇总 (2024-01-15)

总支出：¥246.50

分类明细：
🍜 餐饮：¥68.00
🚗 交通：¥43.50
🛒 购物：¥135.00

今日共 5 笔消费
本月已累计：¥3,245.00
预算剩余：¥1,755.00 / ¥5,000
```

## 安装依赖

```bash
# 确保 jq 已安装（用于 JSON 处理）
sudo apt-get install jq  # Ubuntu/Debian
brew install jq          # macOS
```

## 脚本说明

- `record.sh` - 记录一笔消费
- `summary.sh` - 生成汇总报告
- `query.sh` - 查询历史记录
- `setup-cron.sh` - 设置每日汇总定时任务

---

*让记账变得简单 💰*
