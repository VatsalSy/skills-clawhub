# CAS 统一登录平台详细流程

## 登录页面识别

当访问需要登录的页面时，系统会自动重定向到 CAS 登录平台：

**URL 特征**：`https://sso.haoduo.vip/login?service=...`

**页面元素**：

| 元素 | 描述 | 标识 |
|------|------|------|
| 页面标题 | CAS 统一登录平台 | - |
| 登录方式 | 验证码登录 | 当前默认方式 |
| 手机号输入框 | 请输入手机号 | textbox |
| 验证码输入框 | 请输入验证码 | textbox |
| 发送验证码按钮 | 发送验证码 | StaticText/按钮 |
| 语音获取 | 语音获取 | 备选方式 |
| 登录按钮 | 登录 | button |

## 详细登录步骤

### 第一步：获取手机号

- 询问用户："需要登录系统，请提供您的手机号"
- **警告**：验证码连续错误会导致账号锁定，务必获取正确的手机号
- 等待用户提供手机号

### 第二步：填写手机号

- 找到手机号输入框（placeholder: "请输入手机号"）
- 填入用户提供的手机号

### 第三步：发送验证码

- 点击"发送验证码"按钮
- 告知用户："验证码已发送，请查收短信。如未收到可尝试'语音获取'"

### 第四步：获取并填写验证码

- 询问用户："请提供收到的短信验证码"
- 等待用户提供验证码
- 填入验证码输入框

### 第五步：完成登录

- 点击"登录"按钮
- 登录成功后自动跳转回原访问页面
- **继续执行用户最初请求的操作**

## 登录有效期

- 登录状态有有效期限制（通常数小时）
- 过期后会自动跳转到登录页面
- 如果在操作过程中突然跳转，按上述登录流程处理，完成后自动继续原操作

## 常见问题

### 验证码收不到
- 建议用户尝试"语音获取"方式
- 确认手机号是否正确
- 检查手机信号/短信拦截

### 账号被锁定
- 验证码连续错误会导致账号锁定
- 需要等待一段时间后重试，或联系管理员解锁
