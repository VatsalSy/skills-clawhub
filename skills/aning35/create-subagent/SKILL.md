---
name: create-subagent
description: "åˆ›å»ºå’Œç®¡ç† SubAgentï¼ˆå­æ™ºèƒ½ä½“ï¼‰ã€‚ä½¿ç”¨å½“ç”¨æˆ·éœ€è¦ï¼š(1) åˆ›å»ºæ–°çš„ SubAgent æ‰§è¡Œç‰¹å®šä»»åŠ¡ï¼Œ(2) æŸ¥çœ‹/ç®¡ç†å·²æœ‰çš„ SubAgentï¼Œ(3) ç»ˆæ­¢æˆ–æŒ‡å¯¼ SubAgentã€‚æ”¯æŒå¤šç§é¢„è®¾ç±»å‹ï¼šå¼€å‘ã€ç ”ç©¶ã€å†™ä½œã€æ•°æ®åˆ†æç­‰ã€‚"
homepage: https://clawhub.ai/skills/create-subagent
metadata:
  openclaw:
    emoji: "ğŸ¤–"
---

# SubAgent åˆ›å»ºåŠ©æ‰‹

å¸®åŠ©ç”¨æˆ·å¿«é€Ÿåˆ›å»ºå’Œç®¡ç† SubAgentï¼ˆå­æ™ºèƒ½ä½“ï¼‰ã€‚

## ä½•æ—¶ä½¿ç”¨

âœ… **ä½¿ç”¨æ­¤ Skill å½“ï¼š**
- "å¸®æˆ‘åˆ›å»ºä¸€ä¸ªå¼€å‘åŠ©æ‰‹"
- "åˆ›å»ºä¸€ä¸ªç ”ç©¶ SubAgent"
- "æˆ‘éœ€è¦ä¸€ä¸ªæ–°çš„ SubAgent æ¥å¤„ç†..."
- "æŸ¥çœ‹æˆ‘æœ‰å“ªäº› SubAgent"
- "ç»ˆæ­¢é‚£ä¸ªå¼€å‘ SubAgent"

âŒ **ä¸ä½¿ç”¨æ­¤ Skill å½“ï¼š**
- ç›´æ¥ä½¿ç”¨ `/subagents` å‘½ä»¤ï¼ˆç”¨æˆ·è‡ªå·±æ“ä½œï¼‰
- ç®€å•çš„å•æ¬¡ä»»åŠ¡ï¼ˆä¸éœ€è¦ç‹¬ç«‹ SubAgentï¼‰

---

## SubAgent ç±»å‹æ¨¡æ¿

### 1. ä»£ç å¼€å‘ (`dev-agent`)
```
task: |
  ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆï¼Œä½¿ç”¨ Claude Code å¸®åŠ©ç”¨æˆ·å¼€å‘åº”ç”¨ã€‚
  
  èŒè´£ï¼š
  - éœ€æ±‚åˆ†æã€æ¶æ„è®¾è®¡
  - ä»£ç ç¼–å†™ã€è°ƒè¯•ä¿®å¤
  - ä»£ç å®¡æŸ¥ã€ä¼˜åŒ–å»ºè®®
  - æ–‡æ¡£ç¼–å†™
  
  æŠ€æœ¯æ ˆï¼šReact/Vueã€Node.js/Pythonã€PostgreSQL/MongoDB ç­‰
  
  ç­‰å¾…ç”¨æˆ·çš„å¼€å‘ä»»åŠ¡...
label: dev-agent
```

### 2. ç ”ç©¶åŠ©æ‰‹ (`research-agent`)
```
task: |
  ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç ”ç©¶åŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·è¿›è¡Œä¿¡æ¯æœé›†å’Œåˆ†æã€‚
  
  èŒè´£ï¼š
  - ç½‘ç»œæœç´¢å’Œä¿¡æ¯æœé›†
  - èµ„æ–™æ•´ç†å’Œå½’çº³
  - æ•°æ®åˆ†æå’Œæ€»ç»“
  - ç”Ÿæˆç ”ç©¶æŠ¥å‘Š
  
  ä½¿ç”¨å·¥å…·ï¼šweb_search, web_fetch, read, write
  
  ç­‰å¾…ç”¨æˆ·çš„ç ”ç©¶ä»»åŠ¡...
label: research-agent
```

### 3. å†™ä½œåŠ©æ‰‹ (`writer-agent`)
```
task: |
  ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å†™ä½œåŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·æ’°å†™å„ç§æ–‡æ¡£å’Œå†…å®¹ã€‚
  
  èŒè´£ï¼š
  - æ–‡ç« æ’°å†™å’Œç¼–è¾‘
  - æ–‡æ¡£ç»“æ„å’Œå¤§çº²
  - å†…å®¹æ¶¦è‰²å’Œä¼˜åŒ–
  - é£æ ¼è°ƒæ•´å’Œæ ¡å¯¹
  
  æ“…é•¿ï¼šæŠ€æœ¯æ–‡æ¡£ã€åšå®¢æ–‡ç« ã€æŠ¥å‘Šã€é‚®ä»¶ç­‰
  
  ç­‰å¾…ç”¨æˆ·çš„å†™ä½œä»»åŠ¡...
label: writer-agent
```

### 4. æ•°æ®åˆ†æ (`data-agent`)
```
task: |
  ä½ æ˜¯ä¸€ä¸ªæ•°æ®åˆ†æä¸“å®¶ï¼Œå¸®åŠ©ç”¨æˆ·å¤„ç†å’Œåˆ†ææ•°æ®ã€‚
  
  èŒè´£ï¼š
  - æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç†
  - ç»Ÿè®¡åˆ†æå’Œå¯è§†åŒ–
  - æ•°æ®æ´å¯Ÿå’ŒæŠ¥å‘Š
  - Python è„šæœ¬ç¼–å†™
  
  å·¥å…·ï¼šexec (Python), read, write
  
  ç­‰å¾…ç”¨æˆ·çš„æ•°æ®åˆ†æä»»åŠ¡...
label: data-agent
```

### 5. è‡ªå®šä¹‰ SubAgent
ç”¨æˆ·æè¿°éœ€æ±‚ï¼Œä½ å¸®åŠ©è®¾è®¡ task å’Œ labelã€‚

---

## åˆ›å»ºæµç¨‹

### Step 1: ç¡®è®¤éœ€æ±‚
è¯¢é—®ç”¨æˆ·ï¼š
- è¦åˆ›å»ºä»€ä¹ˆç±»å‹çš„ SubAgentï¼Ÿ
- ä¸»è¦èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ
- éœ€è¦ä»€ä¹ˆç‰¹æ®ŠæŠ€èƒ½æˆ–å·¥å…·ï¼Ÿ

### Step 2: é€‰æ‹©æ¨¡å¼
- **`run`**ï¼ˆé»˜è®¤ï¼‰- ä¸€æ¬¡æ€§ä»»åŠ¡ï¼Œå®Œæˆåè‡ªåŠ¨ç»“æŸ
- **`session`** - æŒä¹…ä¼šè¯ï¼ˆéœ€è¦ channel æ”¯æŒ thread bindingï¼‰

### Step 3: è°ƒç”¨ sessions_spawn
ä½¿ç”¨ä»¥ä¸‹å‚æ•°ï¼š
```
task: [SubAgent çš„ç³»ç»Ÿæç¤ºè¯]
label: [ç®€æ´çš„æ ‡è¯†åç§°]
mode: "run" | "session"
cleanup: "keep"
```

### Step 4: æ±‡æŠ¥ç»“æœ
å‘ŠçŸ¥ç”¨æˆ·ï¼š
- SubAgent åˆ›å»ºæˆåŠŸ
- Run ID å’Œ Session Key
- å¦‚ä½•ä¸ SubAgent äº¤äº’

---

## ç®¡ç†å‘½ä»¤

å‘ŠçŸ¥ç”¨æˆ·è¿™äº›å‘½ä»¤ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰ SubAgent
/subagents list

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
/subagents info <id|#>

# æŸ¥çœ‹æ—¥å¿—
/subagents log <id|#>

# å‘é€æ¶ˆæ¯
/subagents send <id|#> "æ¶ˆæ¯å†…å®¹"

# æŒ‡å¯¼è°ƒæ•´
/subagents steer <id|#> "è°ƒæ•´æ–¹å‘"

# ç»ˆæ­¢ SubAgent
/subagents kill <id|#|all>
```

---

## ç¤ºä¾‹å¯¹è¯

**ç”¨æˆ·**: "å¸®æˆ‘åˆ›å»ºä¸€ä¸ªå¼€å‘ SubAgent"

**ä½ **: 
å¥½çš„ï¼æˆ‘æ¥å¸®ä½ åˆ›å»ºä¸€ä¸ªä»£ç å¼€å‘ SubAgentã€‚

è¿™ä¸ª SubAgent å°†èƒ½å¤Ÿï¼š
- ä½¿ç”¨ Claude Code è¿›è¡Œå¼€å‘
- å¸®ä½ ç¼–å†™ã€è°ƒè¯•ã€å®¡æŸ¥ä»£ç 
- æ”¯æŒ React/Vueã€Node.js/Python ç­‰æŠ€æœ¯æ ˆ

åˆ›å»ºä¸­...

âœ… **å¼€å‘ SubAgent å·²åˆ›å»ºï¼**

- **æ ‡ç­¾**: dev-agent
- **æ¨¡å¼**: run (ä¸€æ¬¡æ€§ä»»åŠ¡)
- **çŠ¶æ€**: è¿è¡Œä¸­

ä½ å¯ä»¥ç”¨è¿™äº›å‘½ä»¤ç®¡ç†å®ƒï¼š
- `/subagents send #1 "å¸®æˆ‘åˆ›å»ºä¸€ä¸ª Express API"`
- `/subagents log #1` æŸ¥çœ‹è¿›åº¦
- `/subagents kill #1` ç»ˆæ­¢

ç°åœ¨è¦ç»™å®ƒåˆ†é…ä»€ä¹ˆå¼€å‘ä»»åŠ¡å—ï¼Ÿ

---

## æ³¨æ„äº‹é¡¹

1. **Webchat é™åˆ¶** - å½“å‰æ¸ é“ä¸æ”¯æŒ `session` æ¨¡å¼ï¼ˆéœ€è¦ thread bindingï¼‰
2. **èµ„æºé…ç½®** - ç¡®ä¿ `openclaw-config.json` ä¸­é…ç½®äº† `subagents.allowAgents`
3. **è‡ªåŠ¨å½’æ¡£** - SubAgent å®Œæˆå 60 åˆ†é’Ÿè‡ªåŠ¨å½’æ¡£
4. **å¹¶å‘é™åˆ¶** - é»˜è®¤æœ€å¤š 8 ä¸ªå¹¶å‘ SubAgent

---

## é…ç½®æ£€æŸ¥

å¦‚æœåˆ›å»ºå¤±è´¥ï¼Œæ£€æŸ¥ï¼š
```json5
{
  "agents": {
    "list": [
      {
        "id": "main",
        "subagents": { "allowAgents": ["main", "developer"] }
      }
    ],
    "defaults": {
      "subagents": {
        "maxConcurrent": 8,
        "maxSpawnDepth": 2
      }
    }
  }
}
```

éœ€è¦é‡å¯ Gateway ä½¿é…ç½®ç”Ÿæ•ˆã€‚
