<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŠ€æœ¯æ¼”ç¤ºæ–‡ç¨¿</title>
    <!-- Reveal.js -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/theme/white.css">
    <!-- Highlight.js -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4/plugin/highlight/monokai.css">
    <!-- Mermaid -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <!-- MathJax -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        /* ===== å…¨å±€å±…ä¸­ï¼ˆå¿…é¡»ï¼‰ ===== */
        .reveal .slides { text-align: center; }
        .reveal .slides section {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 20px 40px;
            box-sizing: border-box;
            font-size: 0.72em;
        }
        .reveal .slides section > * {
            max-width: 100%;
            box-sizing: border-box;
        }

        /* ===== æ ‡é¢˜å±‚çº§ ===== */
        .reveal h1 { font-size: 2.5em; color: #1a1a2e; }
        .reveal h2 { font-size: 1.8em; color: #16213e; margin-bottom: 0.5em; }
        .reveal h3 { font-size: 1.3em; color: #0f3460; }

        /* ===== Grid å¸ƒå±€ ===== */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            max-width: 1700px;
            width: 100%;
            text-align: left;
        }
        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            max-width: 1700px;
            width: 100%;
            text-align: left;
        }

        /* ===== å¯¹æ¯”è¡¨æ ¼ ===== */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }
        .comparison-table th, .comparison-table td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        .comparison-table th {
            background: #f0f4f8;
            font-weight: 600;
        }

        /* ===== é«˜äº®æ¡† ===== */
        .highlight-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px 16px;
            border-radius: 4px;
            margin: 10px 0;
            text-align: left;
        }

        /* ===== æ­¥éª¤æ¡† ===== */
        .step-box {
            background: #e3f2fd;
            border: 2px solid #1976d2;
            border-radius: 8px;
            padding: 8px 16px;
            margin: 4px 0;
            font-weight: 500;
        }

        /* ===== æ»šåŠ¨å®¹å™¨ ===== */
        .scrollable-container {
            overflow-y: auto;
            max-height: 520px;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 4px;
        }

        /* ===== ä»£ç å—ä¼˜åŒ– ===== */
        .reveal pre { width: 100%; }
        .reveal pre code {
            max-height: 450px;
            font-size: 0.85em;
        }

        /* ===== AI æ¨¡å‹è®­ç»ƒ/æ¨ç†æµç¨‹ä¸“ç”¨æ ·å¼ ===== */
        .pipeline-header {
            display: inline-block;
            padding: 6px 20px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        .pipeline-header.training {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #4caf50;
        }
        .pipeline-header.inference {
            background: #e3f2fd;
            color: #1565c0;
            border: 2px solid #2196f3;
        }
        .pipeline-flow {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            width: 100%;
        }
        .pipeline-step {
            border-radius: 8px;
            padding: 6px 18px;
            font-weight: 500;
            width: 80%;
            text-align: center;
        }
        .pipeline-step.train {
            background: #e8f5e9;
            border: 2px solid #4caf50;
        }
        .pipeline-step.infer {
            background: #e3f2fd;
            border: 2px solid #2196f3;
        }
        .pipeline-step.shared {
            background: #f3e5f5;
            border: 2px solid #9c27b0;
        }
        .pipeline-arrow {
            font-size: 1.2em;
            color: #888;
            line-height: 1;
        }
        .diff-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            font-weight: 600;
            vertical-align: middle;
            margin-left: 6px;
        }
        .diff-badge.train-only {
            background: #c8e6c9;
            color: #2e7d32;
        }
        .diff-badge.infer-only {
            background: #bbdefb;
            color: #1565c0;
        }
        .diff-badge.both {
            background: #e1bee7;
            color: #6a1b9a;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">

            <!-- ===== å°é¢ ===== -->
            <section>
                <h1>ğŸ“Œ é¡¹ç›®æ ‡é¢˜</h1>
                <h3>ä¸€å¥è¯æ ¸å¿ƒåˆ›æ–°ç‚¹</h3>
                <p style="color: #666; margin-top: 20px;">ä½œè€… &nbsp;|&nbsp; æ—¥æœŸ</p>
                <aside class="notes">
                    å¼€åœºå…ˆç‚¹æ˜æ ¸å¿ƒç—›ç‚¹ï¼Œè®©å¬ä¼—çŸ¥é“ä¸ºä»€ä¹ˆè¦å…³æ³¨è¿™ä¸ªåˆ†äº«ã€‚
                </aside>
            </section>

            <!-- ===== æ•´ä½“æ¶æ„ ===== -->
            <section>
                <h2>ğŸ—ï¸ æ•´ä½“æ¶æ„</h2>
                <div class="grid-2">
                    <div>
                        <h3>ç³»ç»Ÿå…¨æ™¯</h3>
                        <div class="mermaid">
                            graph TD
                                A[è¾“å…¥] --> B[æ¨¡å—A]
                                B --> C[æ¨¡å—B]
                                C --> D[è¾“å‡º]
                        </div>
                    </div>
                    <div>
                        <h3>å…³é”®æ¨¡å—</h3>
                        <table class="comparison-table">
                            <tr><th>æ¨¡å—</th><th>åŠŸèƒ½</th><th>æ ¸å¿ƒæŠ€æœ¯</th></tr>
                            <tr><td>æ¨¡å—A</td><td>ç‰¹å¾æå–</td><td>CNN/Transformer</td></tr>
                            <tr><td>æ¨¡å—B</td><td>åºåˆ—å»ºæ¨¡</td><td>Attention</td></tr>
                        </table>
                    </div>
                </div>
                <aside class="notes">
                    å…ˆç»™å…¨æ™¯å›¾å»ºç«‹æ•´ä½“è®¤çŸ¥ï¼Œç„¶åå†é€ä¸ªæ·±å…¥ã€‚
                </aside>
            </section>

            <!-- ===== æ ¸å¿ƒç»„ä»¶è¯¦è§£æ¨¡æ¿ ===== -->
            <section>
                <h2>ğŸ¯ ç»„ä»¶åç§°è¯¦è§£</h2>
                <div class="grid-2">
                    <div>
                        <h3>æ ¸å¿ƒä½œç”¨</h3>
                        <p>ä¸€å¥è¯è§£é‡Šä½œç”¨ã€‚</p>
                        <table class="comparison-table">
                            <tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr>
                            <tr><td>ä¼ ç»Ÿæ–¹æ³•</td><td>...</td><td>...</td></tr>
                            <tr><td>æœ¬æ–¹æ³•</td><td>...</td><td>...</td></tr>
                        </table>
                    </div>
                    <div>
                        <h3>ç®—æ³•æµç¨‹</h3>
                        <div class="step-box">Step 1: è¾“å…¥å¤„ç†</div>
                        <div class="step-box">Step 2: ç‰¹å¾å˜æ¢</div>
                        <div class="step-box">Step 3: è¾“å‡ºç”Ÿæˆ</div>
                        <h4>æ ¸å¿ƒå…¬å¼</h4>
                        <p>\[ y = f(W \cdot x + b) \]</p>
                    </div>
                </div>
                <aside class="notes">
                    è¿™é‡Œè¯¦ç»†è§£é‡ŠåŸç†ï¼Œè¡¥å……å¹»ç¯ç‰‡ä¸Šæ²¡å†™å‡ºæ¥çš„èƒŒæ™¯çŸ¥è¯†ã€‚
                    é‡ç‚¹è®² Whyï¼šä¸ºä»€ä¹ˆé€‰è¿™ä¸ªæ–¹æ¡ˆè€Œä¸æ˜¯å…¶ä»–çš„ï¼Ÿ
                </aside>
            </section>

            <!-- ===== AI æ¨¡å‹ï¼šè®­ç»ƒæµç¨‹è¯¦è§£ï¼ˆä»… AI æ¨¡å‹ç®—æ³•é¡¹ç›®ä½¿ç”¨ï¼‰ ===== -->
            <section>
                <h2>ğŸ‹ï¸ è®­ç»ƒæµç¨‹ï¼ˆTraining Pipelineï¼‰</h2>
                <div class="grid-2">
                    <div>
                        <span class="pipeline-header training">ï¿½ è®­ç»ƒé˜¶æ®µ</span>
                        <div class="pipeline-flow">
                            <div class="pipeline-step train">æ•°æ®é¢„å¤„ç† & å¢å¼º<br><small>(B, T, D_in) â†’ (B, T, D_feat)</small></div>
                            <div class="pipeline-arrow">â†“</div>
                            <div class="pipeline-step shared">å‰å‘ä¼ æ’­ï¼ˆForwardï¼‰<br><small>æ¨¡å‹éª¨å¹²ç½‘ç»œ</small></div>
                            <div class="pipeline-arrow">â†“</div>
                            <div class="pipeline-step train">Loss è®¡ç®—<br><small>\( \mathcal{L} = \mathcal{L}_{task} + \lambda \mathcal{L}_{reg} \)</small></div>
                            <div class="pipeline-arrow">â†“</div>
                            <div class="pipeline-step train">åå‘ä¼ æ’­ & å‚æ•°æ›´æ–°<br><small>Optimizer / Scheduler</small></div>
                        </div>
                    </div>
                    <div>
                        <h3>è®­ç»ƒå…³é”®é…ç½®</h3>
                        <table class="comparison-table">
                            <tr><th>é…ç½®é¡¹</th><th>å€¼</th><th>è¯´æ˜</th></tr>
                            <tr><td>Batch Size</td><td>â€”</td><td>è®­ç»ƒæ‰¹æ¬¡å¤§å°</td></tr>
                            <tr><td>Learning Rate</td><td>â€”</td><td>åˆå§‹å­¦ä¹ ç‡</td></tr>
                            <tr><td>Optimizer</td><td>â€”</td><td>ä¼˜åŒ–å™¨ç±»å‹</td></tr>
                            <tr><td>Loss Function</td><td>â€”</td><td>æŸå¤±å‡½æ•°è®¾è®¡</td></tr>
                            <tr><td>Epochs</td><td>â€”</td><td>è®­ç»ƒè½®æ¬¡</td></tr>
                        </table>
                        <div class="highlight-box">
                            <strong>è®­ç»ƒç‹¬æœ‰æ¨¡å—ï¼š</strong>æ•°æ®å¢å¼ºã€Dropout/æ­£åˆ™åŒ–ã€Loss è®¡ç®—ã€æ¢¯åº¦è£å‰ªç­‰åœ¨æ¨ç†æ—¶ä¸å‚ä¸ã€‚
                        </div>
                    </div>
                </div>
                <aside class="notes">
                    è®­ç»ƒæµç¨‹çš„å…³é”®åœ¨äº Loss è®¾è®¡å’Œä¼˜åŒ–ç­–ç•¥ã€‚
                    é‡ç‚¹è®²æ¸…æ¥šï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ª Lossï¼Ÿå­¦ä¹ ç‡è°ƒåº¦ç­–ç•¥çš„è€ƒé‡æ˜¯ä»€ä¹ˆï¼Ÿ
                    å“ªäº›æ¨¡å—æ˜¯è®­ç»ƒç‹¬æœ‰çš„ï¼ˆå¦‚ Dropoutã€æ•°æ®å¢å¼ºï¼‰ï¼Œæ¨ç†æ—¶ä¼šè¢«å…³é—­ã€‚
                </aside>
            </section>

            <!-- ===== AI æ¨¡å‹ï¼šæ¨ç†æµç¨‹è¯¦è§£ï¼ˆä»… AI æ¨¡å‹ç®—æ³•é¡¹ç›®ä½¿ç”¨ï¼‰ ===== -->
            <section>
                <h2>ğŸš€ æ¨ç†æµç¨‹ï¼ˆInference Pipelineï¼‰</h2>
                <div class="grid-2">
                    <div>
                        <span class="pipeline-header inference">ğŸ”µ æ¨ç†é˜¶æ®µ</span>
                        <div class="pipeline-flow">
                            <div class="pipeline-step infer">è¾“å…¥é¢„å¤„ç†<br><small>(1, T, D_in) â€” æ— æ•°æ®å¢å¼º</small></div>
                            <div class="pipeline-arrow">â†“</div>
                            <div class="pipeline-step shared">å‰å‘ä¼ æ’­ï¼ˆForwardï¼‰<br><small>æ¨¡å‹éª¨å¹²ç½‘ç»œï¼ˆeval æ¨¡å¼ï¼‰</small></div>
                            <div class="pipeline-arrow">â†“</div>
                            <div class="pipeline-step infer">åå¤„ç† & è§£ç <br><small>Beam Search / Greedy / Top-k</small></div>
                            <div class="pipeline-arrow">â†“</div>
                            <div class="pipeline-step infer">è¾“å‡ºç»“æœ<br><small>æ ¼å¼åŒ– & è¿”å›</small></div>
                        </div>
                    </div>
                    <div>
                        <h3>æ¨ç†å…³é”®é…ç½®</h3>
                        <table class="comparison-table">
                            <tr><th>é…ç½®é¡¹</th><th>å€¼</th><th>è¯´æ˜</th></tr>
                            <tr><td>Batch Size</td><td>â€”</td><td>æ¨ç†æ‰¹æ¬¡å¤§å°</td></tr>
                            <tr><td>è§£ç ç­–ç•¥</td><td>â€”</td><td>Greedy/Beam/Sampling</td></tr>
                            <tr><td>ç²¾åº¦</td><td>â€”</td><td>FP32/FP16/INT8</td></tr>
                            <tr><td>åŠ é€Ÿæ¡†æ¶</td><td>â€”</td><td>TensorRT/ONNX ç­‰</td></tr>
                        </table>
                        <div class="highlight-box">
                            <strong>æ¨ç†ç‹¬æœ‰æ¨¡å—ï¼š</strong>è§£ç ç­–ç•¥ï¼ˆBeam Search ç­‰ï¼‰ã€KV Cacheã€é‡åŒ–åŠ é€Ÿç­‰åœ¨è®­ç»ƒæ—¶ä¸å‚ä¸ã€‚
                        </div>
                    </div>
                </div>
                <aside class="notes">
                    æ¨ç†æµç¨‹å…³æ³¨ç‚¹ä¸è®­ç»ƒå®Œå…¨ä¸åŒï¼šå»¶è¿Ÿã€ååé‡ã€ç²¾åº¦-é€Ÿåº¦æƒè¡¡ã€‚
                    é‡ç‚¹è®²ï¼šæ¨ç†æ—¶å“ªäº›æ¨¡å—è¢«å…³é—­äº†ï¼ˆDropoutã€æ•°æ®å¢å¼ºï¼‰ï¼Ÿ
                    ä½¿ç”¨äº†å“ªäº›æ¨ç†åŠ é€ŸæŠ€æœ¯ï¼ˆKV Cacheã€é‡åŒ–ã€ç®—å­èåˆï¼‰ï¼Ÿ
                    è§£ç ç­–ç•¥å¦‚ä½•é€‰æ‹©ï¼Ÿå¯¹æœ€ç»ˆæ•ˆæœæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ
                </aside>
            </section>

            <!-- ===== AI æ¨¡å‹ï¼šè®­ç»ƒ vs æ¨ç†å¯¹æ¯”ï¼ˆä»… AI æ¨¡å‹ç®—æ³•é¡¹ç›®ä½¿ç”¨ï¼‰ ===== -->
            <section>
                <h2>âš–ï¸ è®­ç»ƒ vs æ¨ç† å…³é”®å·®å¼‚å¯¹æ¯”</h2>
                <table class="comparison-table" style="max-width: 1500px;">
                    <tr>
                        <th>ç»´åº¦</th>
                        <th>ğŸŸ¢ è®­ç»ƒï¼ˆTrainingï¼‰</th>
                        <th>ğŸ”µ æ¨ç†ï¼ˆInferenceï¼‰</th>
                    </tr>
                    <tr>
                        <td><strong>æ•°æ®æµ</strong></td>
                        <td>å¸¦æ•°æ®å¢å¼º + Shuffle</td>
                        <td>åŸå§‹è¾“å…¥ï¼Œæ— å¢å¼º</td>
                    </tr>
                    <tr>
                        <td><strong>æ¨¡å‹æ¨¡å¼</strong></td>
                        <td><code>model.train()</code> â€” Dropout/BN æ¿€æ´»</td>
                        <td><code>model.eval()</code> â€” Dropout å…³é—­ï¼ŒBN å†»ç»“</td>
                    </tr>
                    <tr>
                        <td><strong>æ¢¯åº¦</strong></td>
                        <td>è®¡ç®—æ¢¯åº¦ï¼Œåå‘ä¼ æ’­</td>
                        <td><code>torch.no_grad()</code>ï¼Œæ— åå‘ä¼ æ’­</td>
                    </tr>
                    <tr>
                        <td><strong>Loss</strong></td>
                        <td>è®¡ç®— Loss + æ­£åˆ™åŒ–é¡¹</td>
                        <td>æ—  Loss è®¡ç®—</td>
                    </tr>
                    <tr>
                        <td><strong>åå¤„ç†</strong></td>
                        <td>æ— ï¼ˆç›´æ¥ç®— Lossï¼‰</td>
                        <td>è§£ç ç­–ç•¥ï¼ˆBeam Search ç­‰ï¼‰</td>
                    </tr>
                    <tr>
                        <td><strong>æ€§èƒ½å…³æ³¨</strong></td>
                        <td>æ”¶æ•›é€Ÿåº¦ã€æ˜¾å­˜å ç”¨</td>
                        <td>å»¶è¿Ÿã€ååé‡ã€ç²¾åº¦</td>
                    </tr>
                    <tr>
                        <td><strong>åŠ é€Ÿæ‰‹æ®µ</strong></td>
                        <td>æ··åˆç²¾åº¦ã€æ¢¯åº¦ç´¯ç§¯ã€DDP</td>
                        <td>é‡åŒ–ã€KV Cacheã€TensorRT</td>
                    </tr>
                </table>
                <div class="highlight-box" style="max-width: 1500px;">
                    <strong>ğŸ’¡ æ ¸å¿ƒæ´å¯Ÿï¼š</strong>è®­ç»ƒå…³æ³¨"å­¦å¾—å¥½"ï¼ˆæ”¶æ•›ã€æ³›åŒ–ï¼‰ï¼Œæ¨ç†å…³æ³¨"è·‘å¾—å¿«"ï¼ˆå»¶è¿Ÿã€ååï¼‰ã€‚åŒä¸€ä¸ªæ¨¡å‹åœ¨ä¸¤ä¸ªé˜¶æ®µçš„æ•°æ®æµã€æ¿€æ´»æ¨¡å—ã€ä¼˜åŒ–ç›®æ ‡å®Œå…¨ä¸åŒã€‚
                </div>
                <aside class="notes">
                    è¿™é¡µæ˜¯æœ€é‡è¦çš„æ€»ç»“å¯¹æ¯”ã€‚è®©å¬ä¼—ä¸€ç›®äº†ç„¶åœ°çœ‹åˆ°è®­ç»ƒå’Œæ¨ç†çš„æœ¬è´¨åŒºåˆ«ã€‚
                    å¼ºè°ƒï¼šä¸æ˜¯ç®€å•çš„"å»æ‰åå‘ä¼ æ’­"ï¼Œè€Œæ˜¯æ•´ä¸ª pipeline çš„è®¾è®¡ç›®æ ‡å’Œå…³æ³¨ç‚¹éƒ½å˜äº†ã€‚
                </aside>
            </section>

            <!-- ===== æ€»ç»“ ===== -->
            <section>
                <h2>ğŸ“‹ æ€»ç»“</h2>
                <div class="highlight-box">
                    <strong>Key Takeaway:</strong> æ ¸å¿ƒè´¡çŒ®ä¸€å¥è¯æ€»ç»“
                </div>
                <aside class="notes">
                    å›é¡¾æ ¸å¿ƒè´¡çŒ®ï¼Œå±•æœ›æœªæ¥æ–¹å‘ã€‚
                </aside>
            </section>

        </div>
    </div>

    <!-- ===== Reveal.js åˆå§‹åŒ– ===== -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4/plugin/notes/notes.js"></script>
    <script>
        // Mermaid æ‰‹åŠ¨æ¸²æŸ“ï¼ˆè§£å†³éšè— slide ä¸æ¸²æŸ“é—®é¢˜ï¼‰
        mermaid.initialize({
            startOnLoad: false,
            theme: 'neutral',
            flowchart: { useMaxWidth: true, htmlLabels: true }
        });

        async function renderAllMermaid() {
            const mermaidDivs = document.querySelectorAll('.mermaid');
            for (let i = 0; i < mermaidDivs.length; i++) {
                const el = mermaidDivs[i];
                if (el.getAttribute('data-processed')) continue;
                const graphDef = el.textContent.trim();
                if (!graphDef) continue;
                try {
                    const { svg } = await mermaid.render('mermaid-svg-' + i, graphDef);
                    el.innerHTML = svg;
                    el.setAttribute('data-processed', 'true');
                } catch(e) {
                    console.warn('Mermaidæ¸²æŸ“å¤±è´¥:', e);
                }
            }
        }

        // Reveal.js åˆå§‹åŒ–ï¼ˆ2:1 å®½é«˜æ¯”ï¼‰
        Reveal.initialize({
            width: 1920,
            height: 960,
            margin: 0.1,
            minScale: 0.2,
            maxScale: 1.5,
            center: true,
            hash: true,
            transition: 'slide',
            plugins: [RevealHighlight, RevealNotes]
        });

        Reveal.on('ready', () => { renderAllMermaid(); });
        Reveal.on('slidechanged', () => { renderAllMermaid(); });
    </script>
</body>
</html>
